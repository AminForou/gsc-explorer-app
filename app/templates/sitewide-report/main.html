{% extends "/default/loggedin-base.html" %}

{% block title %} Sitewide Overview for {{ selected_property}} {% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/css/datepicker.min.css">

<script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/js/datepicker-full.min.js"></script>

<!-- Website Name & Brand Term Section-->
<div class="flex flex-row">

  <div role="alert" class="alert alert-success max-w-fit pr-10">
    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
    <b>GSC Property : </b>
    <span>{{ selected_property}}</span>
  </div>

  <div role="alert" class="alert alert-success max-w-fit pr-10 ml-10">
    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
    <span><b>Brand Terms :</b>  {{ brand_keywords }}</span>
  </div>

</div>

<div class="row-auto p-2">

  <!-- H1 Heading -->
  <div class="row-auto p-2">
    <h1 class="text-5xl font-bold mt-5 mb-5 justify-center flex-row">Sitewide Overview</h1>
    <div role="alert" class="alert max-w-fit inline-block">
      <p class="text-lg mt-2">ðŸ”‹ What's more than Google Search Console?</p>
      <p class="text-sm mt-2">
        ðŸ’¡ GSC Metrics(Clicks, Impressions, CTR, Positions) in Aggregate, By Country & By Device
        <br>ðŸ’¡ Period over Period and Year over Year Comaparison
        <br>ðŸ’¡ Filtering & Sorting Options for each Columns
        <br>ðŸ’¡ Export Data in CSV, Excel, PDF or Print
        <br>ðŸ’¡ No Limit of 1000 Rows of Data
    </div>
  </div>
  <!-- GSC Data Form -->
  <div class="row-auto p-2">
    <form class="" id="sitewide-analysis-data" hx-post="/reports/sitewide-overview/" hx-swap="innerHTML" hx-target="#sitewide-analysis">
      <div id="foo" class="">
          
        <input placeholder="Start Date" type="text" name="start_date" class="border border-bg-accent rounded px-2 py-1 focus:outline-none focus:border-bg-accent">
        
        <span class="text-gray-500 ml-2">to</span>
        
        <input placeholder="End Date" type="text" name="end_date" class="border border-bg-accent rounded px-2 py-1 ml-2 focus:outline-none focus:border-bg-accent">
        
        <div class="tooltip" data-tip="Fetch Data From Google Search Console API">
          <button class="btn btn-primary ml-5" type="submit">Fetch</button>
        </div>
        
        <span class="loading loading-dots loading-lg htmx-indicator align-middle ml-5"></span>
        
      </div>
    </form>
  </div>


  <div id="sitewide-analysis">

  </div>

</div>





<!-- Date Picker Script-->
<script>
  const startInput = document.querySelector('input[name="start_date"]');
  const endInput = document.querySelector('input[name="end_date"]');
  const datepickerStart = new Datepicker(startInput, {
    // options for start datepicker
  });
  const datepickerEnd = new Datepicker(endInput, {
    // options for end datepicker
  });
</script>

{% endblock %}
